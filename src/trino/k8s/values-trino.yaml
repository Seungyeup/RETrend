# Trino ê¸°ë³¸ ì„¤ì •
server:
  node:
    environment: retrend
  config:
    # ì´ ì•„ë˜ëŠ” chartì—ì„œ ì¸ì‹í•˜ëŠ” ì• ë“¤ë§Œ ë‘ëŠ”ê²Œ ì¢‹ìŒ
    http-server.http.port: 8080
    query.max-memory: "2GB"
    query.max-memory-per-node: "1GB"
    discovery.uri: "http://trino-coordinator:8080"

# ì—¬ê¸° ìƒˆë¡œ ì¶”ê°€ : X-Forwarded-* í—¤ë” ì²˜ë¦¬
additionalConfigProperties:
  - http-server.process-forwarded=true

# ServiceëŠ” ClusterIPë¡œ ë‘ê³ , Ingress(NGINX)ë¡œ ì™¸ë¶€ ë…¸ì¶œ
service:
  type: ClusterIP
  port: 8080

# ğŸ”‘ ì¸ì¦ì€ ì¼ë‹¨ ë”
auth: {}

# Iceberg + Hive Metastore + MinIO ì¹´íƒˆë¡œê·¸ ì„¤ì •
additionalCatalogs:
  iceberg: |-
    connector.name=iceberg

    iceberg.catalog.type=hive_metastore
    hive.metastore.uri=thrift://172.30.1.30:9083

    fs.hadoop.enabled=true

    hive.s3.aws-access-key=minioadmin
    hive.s3.aws-secret-key=minioadmin
    hive.s3.endpoint=http://172.30.1.28:9000
    hive.s3.path-style-access=true
    hive.s3.ssl.enabled=false

    iceberg.file-format=PARQUET